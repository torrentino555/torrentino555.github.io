{"ast":null,"code":"import { isNil, sort } from 'ramda';\nexport function selectCheapestAndRecommendedOffer(state) {\n  const offers = state.product.similarProducts;\n\n  if (isNil(offers) || offers.length === 0) {\n    return {};\n  }\n\n  const cheapest = sort((first, second) => first.price - second.price, offers)[0];\n  cheapest;\n  const recommended = sort((first, second) => second.score - first.score, offers)[0];\n  return {\n    cheapest,\n    recommended\n  };\n}","map":{"version":3,"sources":["/home/olof/sata-hakaton/src/selectors/product.ts"],"names":["isNil","sort","selectCheapestAndRecommendedOffer","state","offers","product","similarProducts","length","cheapest","first","second","price","recommended","score"],"mappings":"AACA,SAASA,KAAT,EAAgBC,IAAhB,QAA4B,OAA5B;AAIA,OAAO,SAASC,iCAAT,CAA2CC,KAA3C,EAAyD;AAC5D,QAAMC,MAAM,GAAGD,KAAK,CAACE,OAAN,CAAcC,eAA7B;;AAEA,MAAIN,KAAK,CAACI,MAAD,CAAL,IAAiBA,MAAM,CAACG,MAAP,KAAkB,CAAvC,EAA0C;AACtC,WAAO,EAAP;AACH;;AAED,QAAMC,QAAQ,GAAGP,IAAI,CAAC,CAACQ,KAAD,EAA2BC,MAA3B,KAAyDD,KAAK,CAACE,KAAN,GAAcD,MAAM,CAACC,KAA/E,EAAsFP,MAAtF,CAAJ,CAAkG,CAAlG,CAAjB;AACAI,EAAAA,QAAQ;AACR,QAAMI,WAAW,GAAGX,IAAI,CAAC,CAACQ,KAAD,EAA2BC,MAA3B,KAAyDA,MAAM,CAACG,KAAP,GAAeJ,KAAK,CAACI,KAA/E,EAAsFT,MAAtF,CAAJ,CAAkG,CAAlG,CAApB;AAEA,SAAO;AAAEI,IAAAA,QAAF;AAAYI,IAAAA;AAAZ,GAAP;AACH","sourcesContent":["import { State } from '../reducers'\nimport { isNil, sort } from 'ramda'\nimport { ProductState } from '../reducers/Product'\n\n\nexport function selectCheapestAndRecommendedOffer(state: State) {\n    const offers = state.product.similarProducts\n\n    if (isNil(offers) || offers.length === 0) {\n        return {}\n    }\n\n    const cheapest = sort((first: { price: number }, second: { price: number }) => first.price - second.price, offers)[0]\n    cheapest\n    const recommended = sort((first: { score: number }, second: { score: number }) => second.score - first.score, offers)[0]\n\n    return { cheapest, recommended }\n}"]},"metadata":{},"sourceType":"module"}